-- -- Current sql file was generated after introspecting the database
-- -- If you want to run this migration please uncomment this code before executing migrations

-- CREATE TABLE "categories" (
-- 	"id" bigint PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY (sequence name "categories_id_seq" INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START WITH 1 CACHE 1),
-- 	"created_at" timestamp with time zone DEFAULT now() NOT NULL,
-- 	"name" text DEFAULT '' NOT NULL,
-- 	"image" text DEFAULT '' NOT NULL
-- );
-- --> statement-breakpoint
-- ALTER TABLE "categories" ENABLE ROW LEVEL SECURITY;--> statement-breakpoint
-- CREATE TABLE "projects" (
-- 	"id" bigint PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY (sequence name "projects_id_seq" INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START WITH 1 CACHE 1),
-- 	"created_at" timestamp with time zone DEFAULT now() NOT NULL,
-- 	"title" text DEFAULT '' NOT NULL,
-- 	"url" text,
-- 	"description" text,
-- 	"image" text DEFAULT '' NOT NULL
-- );
-- --> statement-breakpoint
-- ALTER TABLE "projects" ENABLE ROW LEVEL SECURITY;--> statement-breakpoint
-- CREATE TABLE "project_categories" (
-- 	"project_id" bigint NOT NULL,
-- 	"category_id" bigint NOT NULL,
-- 	CONSTRAINT "project_categories_pkey" PRIMARY KEY("project_id","category_id")
-- );
-- --> statement-breakpoint
-- ALTER TABLE "project_categories" ENABLE ROW LEVEL SECURITY;--> statement-breakpoint
-- ALTER TABLE "project_categories" ADD CONSTRAINT "public_project categories_category_id_fkey" FOREIGN KEY ("category_id") REFERENCES "public"."categories"("id") ON DELETE no action ON UPDATE no action;--> statement-breakpoint
-- ALTER TABLE "project_categories" ADD CONSTRAINT "public_project categories_project_id_fkey" FOREIGN KEY ("project_id") REFERENCES "public"."projects"("id") ON DELETE no action ON UPDATE no action;--> statement-breakpoint
-- CREATE POLICY "Enable read access for all users" ON "categories" AS PERMISSIVE FOR SELECT TO public USING (true);--> statement-breakpoint
-- CREATE POLICY "Enable read access for all users" ON "projects" AS PERMISSIVE FOR SELECT TO public USING (true);--> statement-breakpoint
-- CREATE POLICY "public_access" ON "project_categories" AS PERMISSIVE FOR SELECT TO public USING (true);
